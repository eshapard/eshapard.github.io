<!DOCTYPE html>
<html lang="en">
  <!-- Beautiful Jekyll | MIT license | Copyright Dean Attali 2016 -->
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Compiling Gargoyle On Ubuntu 18.10 On An Old Netbook</title>

  <meta name="author" content="eshapard" />

  

  <link rel="alternate" type="application/rss+xml" title="My Crappy Code Blog - Watch me code stuff... poorly" href="/feed.xml" />

  

  
    
      
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.0/css/font-awesome.min.css" />

    
  

  
    
      <link rel="stylesheet" href="/css/bootstrap.min.css" />
    
      <link rel="stylesheet" href="/css/bootstrap-social.css" />
    
      <link rel="stylesheet" href="/css/main.css" />
    
  

  
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
    
  

  

  

  

    <!-- Facebook OpenGraph tags -->
  

  
  <meta property="og:title" content="Compiling Gargoyle On Ubuntu 18.10 On An Old Netbook" />
  

   
  <meta property="og:description" content="I decided to play the classic interactive fiction game Zork, which is available as a Hugo re-write. Unfortunately, the gargoyle-free package for Ubuntu doesnâ€™t have the (non-free) Hugo interpreter. Straight-up Gargoyle from github does, but it was a bit of a pain to compile. PreReqs Compiling Itâ€™ll probably look like...">
  


  <meta property="og:type" content="website" />

  
  <meta property="og:url" content="http://eshapard.github.io/linux/fun/compiling-gargoyle-on-ubuntu-18.04-on-an-old-netbook.html" />
  <link rel="canonical" href="http://eshapard.github.io/linux/fun/compiling-gargoyle-on-ubuntu-18.04-on-an-old-netbook.html" />
  

  
  <meta property="og:image" content="http://eshapard.github.io/img/ejs_logo.png" />
  
  

  <!-- Twitter summary cards -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@" />
  <meta name="twitter:creator" content="@" />

  
  <meta name="twitter:title" content="Compiling Gargoyle On Ubuntu 18.10 On An Old Netbook" />
  

  
  <meta name="twitter:description" content="I decided to play the classic interactive fiction game Zork, which is available as a Hugo re-write. Unfortunately, the gargoyle-free package for Ubuntu doesnâ€™t have the (non-free) Hugo interpreter. Straight-up Gargoyle from github does, but it was a bit of a pain to compile. PreReqs Compiling Itâ€™ll probably look like...">
  

  
  <meta name="twitter:image" content="http://eshapard.github.io/img/ejs_logo.png" />
  

</head>


  <body>

    
  
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
        <a class="navbar-brand" href="http://eshapard.github.io">My Crappy Code Blog</a>
      
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
      
        
          <li>
            
            





<a href="/categories/">Categories</a>

          </li>
        
        
      </ul>
    </div>

	
	<div class="avatar-container">
	  <div class="avatar-img-border">
	    <a href="http://eshapard.github.io ">
	      <img class="avatar-img" src="/img/ejs_logo.png" />
		</a>
	  </div>
	</div>
	

  </div>
</nav>


    <!-- TODO this file has become a mess, refactor it -->





<header class="header-section ">

<div class="intro-header no-img">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-heading">
          <h1>Compiling Gargoyle On Ubuntu 18.10 On An Old Netbook</h1>
		  
		  
		  
		  <span class="post-meta">Posted on January 30, 2022</span>
		  
        </div>
      </div>
    </div>
  </div>
</div>
</header>




<div class="container">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

      <article role="main" class="blog-post">
        <p>I decided to play the classic interactive fiction game Zork, which is available as a Hugo re-write. Unfortunately, the gargoyle-free package for Ubuntu doesnâ€™t have the (non-free) Hugo interpreter. Straight-up Gargoyle from github does, but it was a bit of a pain to compile.</p>

<ul id="markdown-toc">
  <li><a href="#prereqs" id="markdown-toc-prereqs">PreReqs</a></li>
  <li><a href="#compiling" id="markdown-toc-compiling">Compiling</a>    <ul>
      <li><a href="#itll-probably-look-like-it-failed" id="markdown-toc-itll-probably-look-like-it-failed">Itâ€™ll probably look like it failed</a></li>
    </ul>
  </li>
  <li><a href="#install" id="markdown-toc-install">Install</a></li>
  <li><a href="#zork" id="markdown-toc-zork">Zork</a></li>
</ul>

<h2 id="prereqs">PreReqs</h2>

<p>This is what I think I had to install (from <code class="language-plaintext highlighter-rouge">sudo apt install</code>) to get the current release (Gargoyle 2019.1.1) to compile. The source code comes in a tar.gz and the instructions have some hints for another distribution, but not Ubuntu.</p>

<p>Iâ€™m not positive that these are the packages I installed, or that you really need all of these, but here it goes:</p>

<ul>
  <li>jam</li>
  <li>libsdl-sound1.2</li>
  <li>libsdl-sound1.2-dev</li>
  <li>libsdl2-dev</li>
  <li>libsdl-mixer-2.0-0</li>
  <li>libsdl-mixer-dev</li>
  <li>libfreetype-dev</li>
  <li>libjpeg-dev</li>
</ul>

<p>Note: I have yet to encounter an IF game with sound, so editing the Jamrules file and changing USESDL to â€˜noâ€™ might save you some aggravation.</p>

<p>Tip: Thereâ€™s a list of prereqs for Fedora in the INSTALL file, but the names donâ€™t match Ubuntuâ€™s. To find the Ubuntu equivalent for most of these, it helps to do <code class="language-plaintext highlighter-rouge">sudo apt-cache search XXXX</code> for the name and pipe that into grep, searching for â€˜devâ€™ (most of the prereqs listed are -devel packages).</p>

<p>Example: The INSTALL file lists â€˜freetype-develâ€™ as a prerequisite, so doing:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-cache search freetype | grep dev
</code></pre></div></div>
<p>returns â€˜libfreetype-devâ€™ as one of the options.</p>

<h2 id="compiling">Compiling</h2>

<p>Thereâ€™s an issue a ran into compiling on another machine. Compiling seemed to go fine, but then running the gargoyle binary resulted in an error message about not being able to find a labgarglk.so file that was in the same directory.</p>

<p>I guess I maybe found a solution some time ago (on another machine) that you might try. Thatâ€™s what the <code class="language-plaintext highlighter-rouge">-s "LD_LIBRARY_PATH=."</code> is for. It tries to get the binary to look in the current directory. This shouldnâ€™t be necessary once you move the libgarglk.so file to the right place, so itâ€™s optional.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">jam -s "LD_LIBRARY_PATH=."</code></li>
  <li><code class="language-plaintext highlighter-rouge">jam install</code></li>
  <li><code class="language-plaintext highlighter-rouge">./build/dist/gargoyle</code></li>
</ul>

<p>The first command builds the binaries (see note above about the LD_LIBRARY_PATH). The second one copies them to ./build/dist/. And the last one, of course, tries to execute the new binary.</p>

<h3 id="itll-probably-look-like-it-failed">Itâ€™ll probably look like it failed</h3>

<p>If gargoyle fails to run, complaining about not finding libgarglk.so (which is in the same build/dist directory), then you can try setting the LD_LIBRARY_PATH to â€˜.â€™ and export, then try again, or copy garglk.ini to <code class="language-plaintext highlighter-rouge">/usr/local/lib</code> and see if that fixes it.</p>

<p>This seems to be a quirk that isnâ€™t much advertised, but I guess I found something about it in the Issues section of their github page. This was very frustrating for me the first time around. Everything had compiled correctly, but by all appearances, it was broken. ðŸ˜¡</p>

<h2 id="install">Install</h2>

<p>Make a directory on <code class="language-plaintext highlighter-rouge">/usr/local</code> to hold the contents of <code class="language-plaintext highlighter-rouge">build/dist</code>. Then copy them over.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo mkdir -p /usr/local/libexec/gargoyle
sudo cp build/dist/* /usr/local/libexec/gargoyle/
</code></pre></div></div>

<p>Now symlink the gargoyle executable and the libgarglk.so library to where the OS will find them.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo ln -s /usr/local/libexec/gargoyle/gargoyle /usr/local/bin/gargoyle
sudo ln -s /usr/local/libexec/gargoyle/libgarglk.so /usr/lib/libgarglk.so
</code></pre></div></div>

<p>And one last step: Put the default garglk.ini in /etc/.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo cp garglk/garglk.ini /etc/garglk.ini
</code></pre></div></div>

<h2 id="zork">Zork</h2>

<p>Zork is one of those classics of Interactive Fiction thatâ€¦ well Iâ€™m not sure itâ€™s a classic. Itâ€™s old and it gets mentioned a lot, so I figured it was either pretty popular when it came out, or very influential, or both. I really didnâ€™t know much about it, but I wanted to try it out.</p>

<p>I have an old Samsung NC10 that I got for $25 off of Craigslist and itâ€™s still hanging in there. Itâ€™s pretty ideal for playing IF because itâ€™s a good compact size and these games donâ€™t require a lot of power or a big screen. The bad news is that itâ€™s got a 32bit processor, so if the old Ubuntu repositories donâ€™t have something, I often have to compile from source.</p>

      </article>

      
        <div class="blog-tags">
          Tags:
          
          
            <a href="/tag/games">games</a>
          
            <a href="/tag/interactive-fiction">interactive-fiction</a>
          
          
        </div>
      

      

      <ul class="pager blog-pager">
        
        <li class="previous">
          <a href="/linux/useful-kindle-stats.html" data-toggle="tooltip" data-placement="top" title="Useful Kindle Stats">&larr; Previous Post</a>
        </li>
        
        
      </ul>

      
        <div class="disqus-comments">
          
<div class="comments">
	<div id="disqus_thread"></div>
	<script type="text/javascript">
	    var disqus_shortname = 'eshapard-github-io';
	    /* ensure that pages with query string get the same discussion */
            var url_parts = window.location.href.split("?");
            var disqus_url = url_parts[0];	    
	    (function() {
	        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	    })();
	</script>
	<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>


        </div>
      
    </div>
  </div>
</div>

    <footer>
  <div class="container beautiful-jekyll-footer">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
          
          <li>
            <a href="https://github.com/eshapard" title="GitHub">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
		  
	  
          <li>
            <a href="https://reddit.com/u/BonoboBanana" title="Reddit">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-reddit fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
      
		  
		  
		  
		  
      
      
      
      
      
		  
        </ul>
        <p class="copyright text-muted">
		  eshapard
		  &nbsp;&bull;&nbsp;
		  2022

		  
		  &nbsp;&bull;&nbsp;
		  <a href="http://eshapard.github.io">eshapard.github.io</a>
		  
	    </p>
	        <!-- Please don't remove this, keep my open source work credited :) -->
		<p class="theme-by text-muted">
		  Theme by
		  <a href="http://deanattali.com/beautiful-jekyll/">beautiful-jekyll</a>
		</p>
      </div>
    </div>
  </div>
</footer>

  
    






  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
      <script>
      	if (typeof jQuery == 'undefined') {
      	  document.write('<script src="/js/jquery-1.11.2.min.js"></scr' + 'ipt>');
      	}
      </script>
    
  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
	<script src="/js/bootstrap.min.js"></script>
    
  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
	<script src="/js/main.js"></script>
    
  




  
  </body>
</html>
