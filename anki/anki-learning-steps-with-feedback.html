<!DOCTYPE html>
<html lang="en">
  <!-- Beautiful Jekyll | MIT license | Copyright Dean Attali 2016 -->
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Anki - Dynamic Efficient Learning Steps With Feedback</title>

  <meta name="author" content="eshapard" />

  

  <link rel="alternate" type="application/rss+xml" title="My Crappy Code Blog - Watch me code stuff... poorly" href="/feed.xml" />

  

  
    
      
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.0/css/font-awesome.min.css" />

    
  

  
    
      <link rel="stylesheet" href="/css/bootstrap.min.css" />
    
      <link rel="stylesheet" href="/css/bootstrap-social.css" />
    
      <link rel="stylesheet" href="/css/main.css" />
    
  

  
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
    
  

  

  

  

    <!-- Facebook OpenGraph tags -->
  

  
  <meta property="og:title" content="Anki - Dynamic Efficient Learning Steps With Feedback" />
  

   
  <meta property="og:description" content="Use the average ease of mature cards as feedback to generate efficient learning steps for new cards. Udate 2018-03-14: Addon coded; see bottom of page. In a Nutshell Create 5 learning steps for each deck with steps 3-5 based on the initial ease factor of the deck (which is set...">
  


  <meta property="og:type" content="website" />

  
  <meta property="og:url" content="http://eshapard.github.io/anki/anki-learning-steps-with-feedback.html" />
  <link rel="canonical" href="http://eshapard.github.io/anki/anki-learning-steps-with-feedback.html" />
  

  
  <meta property="og:image" content="http://eshapard.github.io/img/ejs_logo.png" />
  
  

  <!-- Twitter summary cards -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@" />
  <meta name="twitter:creator" content="@" />

  
  <meta name="twitter:title" content="Anki - Dynamic Efficient Learning Steps With Feedback" />
  

  
  <meta name="twitter:description" content="Use the average ease of mature cards as feedback to generate efficient learning steps for new cards. Udate 2018-03-14: Addon coded; see bottom of page. In a Nutshell Create 5 learning steps for each deck with steps 3-5 based on the initial ease factor of the deck (which is set...">
  

  
  <meta name="twitter:image" content="http://eshapard.github.io/img/ejs_logo.png" />
  

</head>


  <body>

    
  
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
        <a class="navbar-brand" href="http://eshapard.github.io">My Crappy Code Blog</a>
      
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
      
        
          <li>
            
            





<a href="/aboutme.html">About Me</a>

          </li>
        
        
        
          <li>
            
            





<a href="/categories/">Categories</a>

          </li>
        
        
      </ul>
    </div>

	
	<div class="avatar-container">
	  <div class="avatar-img-border">
	    <a href="http://eshapard.github.io ">
	      <img class="avatar-img" src="/img/ejs_logo.png" />
		</a>
	  </div>
	</div>
	

  </div>
</nav>


    <!-- TODO this file has become a mess, refactor it -->





<header class="header-section ">

<div class="intro-header no-img">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-heading">
          <h1>Anki - Dynamic Efficient Learning Steps With Feedback</h1>
		  
		  
		  
		  <span class="post-meta">Posted on February 6, 2018</span>
		  
        </div>
      </div>
    </div>
  </div>
</div>
</header>




<div class="container">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

      <article role="main" class="blog-post">
        <p>Use the average ease of mature cards as feedback to generate efficient learning steps for new cards.</p>

<p><strong>Udate 2018-03-14:</strong> Addon coded; see bottom of page.</p>

<h2 id="in-a-nutshell">In a Nutshell</h2>

<p>Create 5 learning steps for each deck with steps 3-5 based on the initial ease factor of the deck (which is set to the average ease factor of the mature cards in the deck). Set the initial graduation interval according to the same pattern.</p>

<ol>
  <li>15</li>
  <li>1440 (1 day)</li>
  <li>1440 * Starting Ease</li>
  <li>1440 * Starting Ease^2</li>
  <li>1440 * Starting Ease^3</li>
  <li>Graduating Interval = 1440 * Starting Ease^4</li>
</ol>

<blockquote>
  <p>Steps are in minutes.</p>
</blockquote>

<h2 id="background">Background</h2>

<p>In a previous post, I talked about <a href="/anki/what-anki-learning-steps-to-use.html">what learning steps to use</a>. I mentioned that I started out using a few short steps and letting the default algorithm kick in after that, but that I changed my mind and started using several long steps.</p>

<p>I had found some <em>ideal</em> intervals in the book <em>How We Learn</em> that matched pretty closely what I had found to work in many of my decks. The long intervals create sort of a <em>learning limbo</em> where cards in the learning state bounce around until I can remember them long enough to graduate (the final step was 30 days). This has the benefit of quickly weeding out cards that are easy, while harder cards get more attention. Also, I reasoned that by the time a card graduates, I should know it about as well as all the other graduating cards, so Anki’s algorithm should be able to handle them better. Less variation in how well I know the cards means less adjusting for the algorithm.</p>

<p>Recently I was talking to someone about how these steps work well for some content, but for certain difficult abstract material, they are very frustrating; you just forget all the time. For that material, it’s better to put them in a deck with shorter steps. This got me thinking about how we could use the review data to set the learning intervals dynamically.</p>

<h2 id="the-ideal">The Ideal</h2>

<p>Ideally, I think we’d try to figure out what learning steps would (on average) give us an 85% success rate on each step. Because of the way Anki stores review data, this isn’t very easy. I never felt motivated enough to code something to do this. My steps were working fine for me, so I just let them be.</p>

<h2 id="the-alternative">The Alternative</h2>

<p>I started thinking about the learning steps differently. Assuming that the basic premise of Anki’s algorithm is correct (a big assumption), then we might extend that premise to the learning steps.</p>

<p>This is what I mean: Anki’s algorithm assumes that the next review interval should be pretty much a percentage of the last. By default, decks start out with 250%. That’s known as the ease factor. 250% means that a card is easy enough that the next review can be 2.5 times as long as the last and you’ll still remember it. Obviously this is very simplistic, but that’s the foundation of how Anki’s algorithm works.</p>

<p>I decided to see what sort of learning steps I’d get if I started with a step of 1 day and then multiplied it by 2.5 to get the next. The series was pretty close to the one I was already using:</p>

<ol>
  <li>1 day</li>
  <li>2.5 days</li>
  <li>6.25 days</li>
  <li>15.625 days</li>
  <li>39.0265 days</li>
</ol>

<blockquote>
  <p>Note: If learning steps cross the day line, Anki sets them as due at the start of the day rather than scheduling them for the exact minute. Thus, the learning steps above would essentially be rounded down.</p>
</blockquote>

<p>These are pretty close to the ones I use:</p>

<ol>
  <li>1.5 days</li>
  <li>7 days</li>
  <li>30 days</li>
</ol>

<blockquote>
  <p>Actually, I use a 15 min step for step number 1, but Anki only uses that when you forget the card.</p>
</blockquote>

<p>Clearly, there’s sort of an extra step or two in the ease factor version, but that doesn’t bother me. Those steps are so far apart that I don’t think there’s much efficiency lost.</p>

<h2 id="fine-tuning">Fine-Tuning</h2>

<p>Now some decks have harder cards than others, so it might not make the most sense to use the default ease factor of 250 for this. Instead it might be a good idea to use the average ease factor of the mature cards in the deck. This is exactly what I suggested using in <a href="/anki/ankis-initial-ease-factor-setting.html">Anki’s Starting Ease Factor Settings</a> and I released an addon (see that page) that automatically sets the starting ease factor to this value for all decks.</p>

<p>If we grab the starting ease factor from the deck options, we can then use it to automatically generate a sequence of learning steps (past the first 15-minute one).</p>

<ol>
  <li>15 (only used after you forget)</li>
  <li>1440 (1 day)</li>
  <li>1440 * Starting Ease</li>
  <li>1440 * Starting Ease^2</li>
  <li>1440 * Starting Ease^3</li>
  <li>1440 * Starting Ease^4</li>
</ol>

<p>But this also gives us a natural progression that gives us an obvious graduating interval. Just apply the ease factor once again.</p>

<ul>
  <li>Graduating Interval = 1440 * Starting Ease^5</li>
</ul>

<p>Although looking at the series, I think I’d be happy with a slightly shorter one:</p>

<ol>
  <li>15 (only used after you forget)</li>
  <li>1440 (1 day)</li>
  <li>1440 * Starting Ease</li>
  <li>1440 * Starting Ease^2</li>
  <li>1440 * Starting Ease^3</li>
  <li>Graduating Interval = 1440 * Starting Ease^4</li>
</ol>

<h2 id="the-theory">The Theory</h2>

<p>OK, so in theory what this should do is to efficiently graduate easy cards from the <em>learning limbo</em>. Any card that’s easier than the average mature card should graduate to regular review status without much work from us.</p>

<p>Cards that are harder to remember will get kicked back to step 1 again and again until their ease factors grow just enough to graduate. From there the regular algorithm takes over.</p>

<h2 id="rethinking-shorter-steps">Rethinking Shorter Steps</h2>

<p>In between starting to use those longer steps I listed and writing this article, I’ve also created an <a href="/anki/thoughts-on-a-new-algorithm-for-anki.html">addon that tweaks each card’s ease factor to hit an 85% success rate</a>. With this addon, it may be better to go back to a smaller number of learning steps and let the algorithm tweaks kick in faster. But the thing is, those tweaks don’t begin until we have at least 4 regular reviews.</p>

<p>Hmm…</p>

<p>Well, one thing I can say is that the learning queue is different. At least with the way I set it up, in the review queue, the <a href="/anki/anki-auto-adjust-new-interval-after-a-lapse.html">next interval after a lapse</a> is only about 25% shorter than the last one and cards that you forget 4 times get tagged as a leech.</p>

<blockquote>
  <p>Now that I think of it, if we’re targeting an 85% forgetting rate, then all cards will eventually be marked as leeches… probably best to turn that feature off if using my addon. Update 2018-03-11: There doesn’t seem to be a clear option to turn off the leech behavior, but setting the leech threshold to 0 will probably do it; I’d have to track this down in Anki’s code to be sure.</p>
</blockquote>

<p>With the learning queue, you always go back to step 1 after you forget, which is less efficient, but more effective (at least in the short-term); exactly what you might want for newer cards.</p>

<p>So the split between the learning queue and the review queue gives you sort of a consequence-free <em>limbo</em> for cards you don’t know well; a place where effectiveness can take priority over efficiency. The review queue is a place where the ease factor of graduated cards can be fine tuned for maximum efficiency at the cost of effectiveness.</p>

<p>So where to draw this line? Where best to end the learning phase and begin the review phase? Who knows… I think it may be best to go with personal preference here.</p>

<h2 id="coding-an-addon">Coding an Addon</h2>

<p>This seems like a pretty simple addon to code. I think I might go ahead and do it pretty soon. Maybe I’ll add an option to select the number of learning steps you want to use.</p>

<p><strong>Update 2018-03-14:</strong> I’ve coded this as a small addon see the <a href="https://gist.github.com/eshapard/960f2508c2096ff663af3b6ebc925f16">autoLearningSteps gist</a>.</p>

      </article>

      
        <div class="blog-tags">
          Tags:
          
          
            <a href="/tag/anki">anki</a>
          
          
        </div>
      

      

      <ul class="pager blog-pager">
        
        <li class="previous">
          <a href="/linux/apache-webserver-no-longer-runs-php-after-upgrade-to-ubuntu-7.10.html" data-toggle="tooltip" data-placement="top" title="Apache Webserver No Longer Runs Php After Upgrade To Ubuntu 7.10">&larr; Previous Post</a>
        </li>
        
        
      </ul>

      
    </div>
  </div>
</div>

    <footer>
  <div class="container beautiful-jekyll-footer">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
          
          <li>
            <a href="https://github.com/eshapard" title="GitHub">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
		  
	  
          <li>
            <a href="https://reddit.com/u/BonoboBanana" title="Reddit">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-reddit fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
      
		  
		  
		  
		  
      
      
      
      
      
		  
        </ul>
        <p class="copyright text-muted">
		  eshapard
		  &nbsp;&bull;&nbsp;
		  2018

		  
		  &nbsp;&bull;&nbsp;
		  <a href="http://eshapard.github.io">eshapard.github.io</a>
		  
	    </p>
	        <!-- Please don't remove this, keep my open source work credited :) -->
		<p class="theme-by text-muted">
		  Theme by
		  <a href="http://deanattali.com/beautiful-jekyll/">beautiful-jekyll</a>
		</p>
      </div>
    </div>
  </div>
</footer>

  
    






  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
      <script>
      	if (typeof jQuery == 'undefined') {
      	  document.write('<script src="/js/jquery-1.11.2.min.js"></scr' + 'ipt>');
      	}
      </script>
    
  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
	<script src="/js/bootstrap.min.js"></script>
    
  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
	<script src="/js/main.js"></script>
    
  




  
  </body>
</html>
